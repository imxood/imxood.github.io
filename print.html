<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>学习笔记</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="index.html">首页</a></li><li class="chapter-item "><div>硬件</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="hardware/三极管.html">三极管</a></li><li class="chapter-item "><a href="hardware/MOS管.html">MOS管</a></li><li class="chapter-item "><a href="hardware/usb,电源,电池-供电电路.html">usb,电源,电池-供电电路</a></li></ol></li><li class="chapter-item "><div>嵌入式</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="embedded/C语言.html">C语言</a></li></ol></li><li class="chapter-item "><div>系统</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="system/rust/basic.html">Rust</a></li></ol></li><li class="chapter-item "><div>前端</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="frontend/web.html">Web</a></li><li class="chapter-item "><a href="frontend/vue/vue.html">Vue</a></li></ol></li><li class="chapter-item "><div>算法</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="algorithm/index.html"></a></li></ol></li><li class="chapter-item "><div>数学</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="math/积分.html">积分</a></li><li class="chapter-item "><a href="math/微分.html">微分</a></li></ol></li><li class="chapter-item "><div>工具</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="tools/mdbook.html">mdbook</a></li><li class="chapter-item "><a href="tools/git.html">git</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">学习笔记</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="分享技术-分享精彩"><a class="header" href="#分享技术-分享精彩">分享技术, 分享精彩</a></h1>
<p>学过的东西, 要记得做个记录</p>
<h1 id="三极管"><a class="header" href="#三极管">三极管</a></h1>
<h1 id="mos管"><a class="header" href="#mos管">MOS管</a></h1>
<p>参考: <a href="https://blog.csdn.net/weixin_32821257/article/details/112181812">超低内阻mos管-MOS总结</a></p>
<h2 id="分类"><a class="header" href="#分类">分类</a></h2>
<p><img src="hardware/images/mos%E7%AE%A1.png" alt="" /></p>
<p>场效应管主要分为: 结型场效应管 和 金属-氧化物-半导体型场效应管(MOS管), 这两种都有P管和N管.</p>
<p>结型场效应管, 在实际应用中几乎不用, 主要用的是MOS管.</p>
<p><img src="hardware/images/mos%E7%AE%A11.png" alt="" /></p>
<h2 id="使用场景"><a class="header" href="#使用场景">使用场景</a></h2>
<p>一般主板上使用最多的是<strong>增强型MOS管</strong></p>
<p><strong>NMOS最多, 一般多用在信号控制上</strong></p>
<p>其次是<strong>PMOS, 多用在电源开关等方面</strong></p>
<p><strong>耗尽型几乎不用</strong></p>
<h2 id="n和p区分"><a class="header" href="#n和p区分">N和P区分</a></h2>
<p><img src="hardware/images/%E5%8C%BA%E5%88%86n%E7%AE%A1%E5%92%8Cp%E7%AE%A1.png" alt="" /></p>
<h2 id="寄生二极管"><a class="header" href="#寄生二极管">寄生二极管</a></h2>
<p>由于生产工艺, mos管会有一个寄生二极管(也叫体二极管)</p>
<p>寄生二极管是有方向的, NMOS是由S极→D极, PMOS是由D极→S极</p>
<p>寄生二极管和普通二极管一样, 正接会导通, 反接截止</p>
<p>对于NMOS, 当S极接正, D极接负, 寄生二极管会导通, 反之截止</p>
<p>对于PMOS, 当D极接正, S极接负, 寄生二极管导通, 反之截止</p>
<p><img src="hardware/images/%E5%AF%84%E7%94%9F%E4%BA%8C%E6%9E%81%E7%AE%A1.png" alt="" /></p>
<p>某些场合下, 也会选择走寄生二极管</p>
<h2 id="导通条件"><a class="header" href="#导通条件">导通条件</a></h2>
<p>MOS管是压控型, 导通由G和S极之间压差决定</p>
<p>对NMOS来说, Vg-Vs&gt;Vgs(th), 即G极和S极的压差大于一定值, MOS管会导通, 但是也不能大太多, 否则烧坏MOS管, 开启电压和其他参数可以看具体器件的SPEC.</p>
<p>对PMOS来说, Vs-Vg&gt;Vgs(th), 即S极和G极的压差大于一定值, MOS管会导通, 同样的, 具体参数看器件的SPEC.</p>
<h2 id="基本开关电路"><a class="header" href="#基本开关电路">基本开关电路</a></h2>
<h3 id="nmos管开关电路"><a class="header" href="#nmos管开关电路">NMOS管开关电路</a></h3>
<p>当GPIO_CTRL电压小于MOS管开启电压时, MOS管截止, OUT通过R1上拉到5V, OUT=5V</p>
<p>当GPIO_CTRL电压大于MOS管开启电压时, MOS管导通, D极电压等于S极电压, 即OUT=0V</p>
<p><img src="hardware/images/nmos-switch.png" alt="" /></p>
<h3 id="pmos管开关电路"><a class="header" href="#pmos管开关电路">PMOS管开关电路</a></h3>
<p>PMOS管最常用在电源开关电路中, 当GPIO_CRTL=0V时, S和G极压差大于MOS管开启电压时, MOS管导通, 5V_VOUT=5V_VIN</p>
<p><img src="hardware/images/pmos-switch.png" alt="" /></p>
<h2 id="与三极管的区别"><a class="header" href="#与三极管的区别">与三极管的区别</a></h2>
<p>三极管是电流控制, MOS管是电压控制, 主要有如下的区别:</p>
<ol>
<li>
<p>只容许从信号源取少量电流的情况下, 选用MOS管；在信号电压较低, 有容许从信号源取较多电流的条件下, 选用三极管.</p>
</li>
<li>
<p>MOS管是单极性器件(靠一种多数载流子导电), 三极管是双极性器件(既有多数载流子, 也要少数载流子导电).</p>
</li>
<li>
<p>有些MOS管的源极和漏极可以互换运用, 栅极也可正可负, 灵活性比三极管好.</p>
</li>
<li>
<p>MOS管应用普遍, 可以在很小电流和很低电压下工作.</p>
</li>
<li>
<p>MOS管输入阻抗大, 低噪声, MOS管较贵, 三极管的损耗大.</p>
</li>
<li>
<p>MOS管常用来作为电源开关, 以及大电流开关电路、高频高速电路中, 三极管常用来数字电路开关控制.</p>
</li>
</ol>
<h2 id="g和s极串联电阻的作用"><a class="header" href="#g和s极串联电阻的作用">G和S极串联电阻的作用</a></h2>
<p>MOS管的输入阻抗很大, 容易受到外界信号的干扰, 只要少量的静电, 就能使G-S极间等效电容两端产生很高的电压, 如果不及时把静电释放掉, 两端的高压容易使MOS管产生误动作, 甚至有可能击穿G-S极, <strong>起到一个固定电平的作用</strong>.</p>
<h2 id="g极串联电阻的作用"><a class="header" href="#g极串联电阻的作用">G极串联电阻的作用</a></h2>
<p>MOS管是压控型, 有的情况下, 为什么还需要在G极串联一个电阻呢？</p>
<p>1, 减缓Rds从无穷大到Rds(on).
2, 防止震荡, 一般单片机的I/O输出口都会带点杂散电感, 在电压突变的情况下, 可能与栅极电容形成LC震荡, 串联电阻可以增大阻尼减小震荡效果.  3, 减小栅极充电峰值电流</p>
<h2 id="mos管的米勒效应"><a class="header" href="#mos管的米勒效应">MOS管的米勒效应</a></h2>
<p>关于MOS管的米勒效应, 可以阅读文章: <a href="https://www.eet-china.com/mp/a39546.html">臭名昭著的MOS管米勒效应</a></p>
<h2 id="选型要点"><a class="header" href="#选型要点">选型要点</a></h2>
<ol>
<li>电压值</li>
</ol>
<p>关注Vds最大导通电压和Vgs最大耐压, 实际使用中, 不能超过这个值, 否则MOS管会损坏.</p>
<p><img src="hardware/images/ds-gs-voltage.png" alt="" /></p>
<p>关注导通电压Vgs(th), 一般MOS管都是用单片机进行控制, 根据单片机GPIO的电平来选择合适导通阈值的MOS管, 并且尽量留有一定的余量, 以确保MOS可以正常开关</p>
<p><img src="hardware/images/gs-threshould-toltage.png" alt="" /></p>
<ol start="2">
<li>电流值</li>
</ol>
<p>关注ID电流, 这个值代表了PMOS管的能流过多大电流, 反应带负载的能力, 超过这个值, MOS管也会损坏</p>
<p><img src="hardware/images/mos-current.png" alt="" /></p>
<ol start="3">
<li>功率损耗</li>
</ol>
<p>功率损耗需要关注以下几个参数, 包括热阻、温度. 热阻指的是当有热量在物体上传输时, 在物体两端温度差与热源的功率之间的比值, 单位是℃/W或者是K/W, 热阻的公式为ThetaJA = (Tj-Ta)/P, 和功率和环境温度都有关系</p>
<p><img src="hardware/images/mos-power-loss.png" alt="" /></p>
<ol start="4">
<li>导通内阻</li>
</ol>
<p>导通内阻关注PMOS的Rds(on)参数, 导通内阻越小, PMOS管的损耗越小, 一般PMOS管的导通内阻都是在mΩ级别</p>
<ol start="5">
<li>开关时间</li>
</ol>
<p>MOS作为开关器件, 就会有开关时间概念, 在高速电路中, 尽可能选择输入、输出电容Ciss&amp;Coss小、开关时间Ton&amp;Toff短的MOS管, 以保证数据通信正常</p>
<p>参数解释推荐阅读文章: <a href="https://www.eet-china.com/mp/a22541.html">带你读懂MOS管参数「热阻、输入输出电容及开关时间」</a></p>
<ol start="6">
<li>封装</li>
</ol>
<p>根据PCB板的尺寸, 选择合适的PMOS管尺寸, 在板载面积有限的情况下, 尽可能选择小封装；尽量选择常见封装, 以备后续选择合适的替代料</p>
<h1 id="usb电源电池-供电电路"><a class="header" href="#usb电源电池-供电电路">usb,电源,电池-供电电路</a></h1>
<p><a href="https://www.pianshen.com/article/5340855857/">参考</a></p>
<h1 id="c语言"><a class="header" href="#c语言">C语言</a></h1>
<h2 id="编译过程"><a class="header" href="#编译过程">编译过程</a></h2>
<pre><code>预处理: 展开头文件及宏定义
	gcc -E -I./inc test.c -o test.i
	cpp test.c -I./inc -o test.i

编译: 将预处理的代码翻译成汇编代码
	gcc -S -I./inc test.c -o test.s

汇编: 将汇编代码翻译成机器码, 这一步生成二进制格式的目标文件
	as test.s -o test.o

链接: 将目标文件和库文件链接成最后的可执行程序
	ld -o test.out test.o inc/mymath.o ...libraries...
</code></pre>
<h2 id="内存布局"><a class="header" href="#内存布局">内存布局</a></h2>
<pre><code>栈区

	局部变量, 编译器在编译时已经确定了栈的大小


堆区

	malloc分配的内存, 程序员自己控制 分配与释放


数据区

	全局区(静态区)
		如果已初始化, 放在DATA段
		如果未初始化, 放在BSS段, 这里只保存必要的大小信息, 不占用可执行程序的大小, 加载程序时分配内存

	常量区
		常量字面量


代码区

	函数定义
</code></pre>
<h2 id="大小端-位域"><a class="header" href="#大小端-位域">大小端 位域</a></h2>
<pre><code>大小端:
    intel芯片用的是小端, 就是内存是递增的, 数据是按照字节存放的, 低位数据放在低地址上, 不符合人类的阅读顺序, 比如: 对int类型数据 它的数据是: b3 b2 b1 b0, 内存从低到高: b0 b1 b2 b3
</code></pre>
<h2 id="结构体对齐"><a class="header" href="#结构体对齐">结构体对齐</a></h2>
<ol>
<li>
<p>第一个成员的偏移量为0</p>
</li>
<li>
<p>其它成员的偏移量是其对齐数的整数倍</p>
</li>
<li>
<p>结构体的大小为最大对齐数的整数倍</p>
<p>例子：
struct One {
char a;
double b;
short c;
int d;
char e;
};
规则1： a的偏移量是0
规则2：
由于b的对齐数是8,所以1个字节补7个字节，b的偏移量为 0 + 1 + 7 = 8
由于c的对齐数是2,c前面的长度是  8 + 8 = 16, 是2的倍数， 所以c的偏移量是 16
由于d的对齐数是4,d前面的长度是 16 + 2 = 18, 不是4的倍数， 补2个字节， d的偏移量是 18 + 2 = 20
由于e的对齐数是1,e前面的长度是 20 + 4 = 24, 是1的倍数, d的偏移量就是 24
整体的大小为 24 + 1 = 25
规则3：
由于25不是最大对齐数的整数倍, 所以补7个字节, 为32</p>
<p>另外:</p>
<pre><code> 如果使用了 #pragma pack(4) 这个宏可以改变最大对齐数, 这意味着比如double的对齐数就是4.
 也可以使用: __attribute__((__aligned__(4)))

 #pragma pack(4)

 struct One {
 	char a;
 	double b;
 	short c;
 	int d;
 	char e;
 };

 规则1： a的偏移量是0
 规则2：
 	由于b的对齐数是4,所以1个字节补3个字节，b的偏移量为 0 + 1 + 3 = 4
 	由于c的对齐数是2,c前面的长度是  4 + 8 = 12, 是2的倍数， 所以c的偏移量是 12
 	由于d的对齐数是4,d前面的长度是 12 + 2 = 14, 不是4的倍数， 补2个字节， d的偏移量是 14 + 2 = 16
 	由于e的对齐数是1,e前面的长度是 16 + 4 = 20, 是1的倍数, d的偏移量就是 20
 	整体的大小为 20 + 1 = 21
 规则3：
 	由于21不是最大对齐数的整数倍, 所以补3个字节, 为24
</code></pre>
</li>
</ol>
<h2 id="gcc中常用属性"><a class="header" href="#gcc中常用属性">gcc中常用属性</a></h2>
<p>用于设置编译器的一些特殊行为</p>
<pre><code>设置对齐字节数:
	__attribute__((__aligned__(4)))

取消优化对齐, 按照实际字节数存储
	__attribute__((packed))

将函数或数据放到特定的代码段:
	__attribute__((section(&quot;section-name&quot;)))

阻止函数内联:
	__attribute__((noinline))

让函数总是内联:
	__attribute__((__always_inline__))

设置特定函数的优化级别， O0,O1,O2,O3:
	__attribute__((optmize(&quot;Ox&quot;)))
</code></pre>
<h2 id="gcc-优化"><a class="header" href="#gcc-优化">gcc 优化</a></h2>
<h3 id="优化级别"><a class="header" href="#优化级别">优化级别</a></h3>
<pre><code>O0,O1,O2,O3,Os
</code></pre>
<h3 id="优化方法"><a class="header" href="#优化方法">优化方法</a></h3>
<p>通过给gcc参数:</p>
<pre><code>gcc -O2 ...
</code></pre>
<p>通过代码:</p>
<pre><code>给这行代码以下的代码设置优化级别:
	#pragma GCC optimize (&quot;O3&quot;)

给特定函数设置属性:
	__attribute__((optmize(&quot;O3&quot;)))
</code></pre>
<h2 id="main函数之前发生的事"><a class="header" href="#main函数之前发生的事">main函数之前发生的事</a></h2>
<p>大概是:</p>
<ol>
<li>设置栈帧</li>
<li>设置bss区域数据为0</li>
<li>如果需要, 执行 hardware/software init</li>
<li>配置参数</li>
<li>调用main</li>
<li>执行exit.</li>
</ol>
<h1 id="rust-笔记"><a class="header" href="#rust-笔记">Rust 笔记</a></h1>
<h2 id="rust-的-安装与卸载"><a class="header" href="#rust-的-安装与卸载">Rust 的 安装与卸载</a></h2>
<pre><code>参考链接:
    https://www.rust-lang.org/zh-CN/tools/install

安装:
    curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh

版本号:
    rustc --version

升级:
    rustup update stable
    rustup update

设置默认 版本:
    rustup default stable
    rustup default nightly

工具链
    rustup toolchain install nightly
    rustup toolchain install nightly-2020-11-19
    rustup toolchain list
    rustup default nightly-2020-11-19

    ps:
        &quot;2020-11-19&quot; 这个时间是在 rust 的 git 中的tag上找的

    rustup override set nightly

## riscv
rustup target add riscv32imac-unknown-none-elf

卸载:
    rustup self uninstall
</code></pre>
<h2 id="vscode-中-rust-的插件"><a class="header" href="#vscode-中-rust-的插件">vscode 中 rust 的插件</a></h2>
<pre><code>1. rust-analyzer
2. Crates
3. Better TOML
4. CodeLLDB
</code></pre>
<h2 id="rust-hello_world"><a class="header" href="#rust-hello_world">Rust hello_world</a></h2>
<pre><code>编写点一个程序:
    vim main.rs

    fn main() {
        println!(&quot;Hello, world!&quot;);
    }

编译:
    rustc main.rs

运行:
    ./main
</code></pre>
<h2 id="cargo-命令"><a class="header" href="#cargo-命令">cargo 命令</a></h2>
<pre><code>添加工具:
    cargo install cargo-generate
    cargo install cargo-edit
    cargo install mdbook

创建项目:
    cargo new hello_cargo

编译 并生成可执行程序:
    cd hello_cargo
    cargo build
    cargo build --release

编译 但不生成 可执行程序:
    cargo check

运行目标程序 (也可以一步构建项目):
    cargo run

创建:
    cargo new hello_world &lt;--bin&gt;, 创建一个二进制程序
    cargo new hello_world --lib, 创建一个库
</code></pre>
<h2 id="库"><a class="header" href="#库">库</a></h2>
<pre><code>kurbo
    曲线工具

lyon
    路径细分库, 可以用于基于GPU的2D图形渲染

tokio
    https://github.com/tokio-rs/tokio

embedded_graphics
    mcu gui

embedded_sdmmc
</code></pre>
<h3 id="iced"><a class="header" href="#iced">iced</a></h3>
<pre><code>sudo apt install libssl-dev

官方的例子:

    git clone https://github.com/hecrj/iced.git

    cd iced

    cargo build

    // --features glow,glow_canvas
    cargo run --package todos

// 如果无法运行, 缺少显示驱动
sudo apt install libvulkan1 mesa-vulkan-drivers vulkan-utils
</code></pre>
<h3 id="iced-编译-并-运行所有的-examples"><a class="header" href="#iced-编译-并-运行所有的-examples">iced: 编译 并 运行所有的 examples</a></h3>
<pre><code>#!/bin/bash

examples=(iced_core iced_futures iced_graphics iced_native iced_style iced_glow iced_glutin iced_winit iced_web iced_wgpu bezier_tool iced clock color_palette counter custom_widget download_progress events game_of_life geometry integration pane_grid pick_list pokedex progress_bar qr_code scrollable solar_system stopwatch styling svg todos tour)

for example in ${examples[@]}; do
    cargo build --verbose --package $example
done

for example in ${examples[@]}; do
    echo &quot;start run: cargo run --verbose --package $example&quot;
    cargo run --verbose --package $example
done
</code></pre>
<h3 id="iced-例子"><a class="header" href="#iced-例子">iced 例子</a></h3>
<pre><code>学习基本的布局:
    target/debug/pane_grid
    examples/tour

学习canvas:
    examples/clock
</code></pre>
<h3 id="bevy-游戏引擎"><a class="header" href="#bevy-游戏引擎">bevy, 游戏引擎</a></h3>
<pre><code>git clone https://github.com/bevyengine/bevy
cargo run --example breakout
</code></pre>
<h2 id="libusb-usb库"><a class="header" href="#libusb-usb库">libusb, usb库</a></h2>
<pre><code>在windows上找不到libusb库, 在 ~/.cargo/config 中添加:

[target.x86_64-pc-windows-msvc.'usb-1.0']
rustc-link-search = ['D:\libs\64bit']
rustc-link-lib = ['libusb-1.0']
</code></pre>
<h2 id="wasm-开发"><a class="header" href="#wasm-开发">wasm 开发</a></h2>
<pre><code>安装 wasm-pack:

    curl https://rustwasm.github.io/wasm-pack/installer/init.sh -sSf | sh

cargo install cargo-generate

cargo generate --git https://github.com/rustwasm/wasm-pack-template -n wasm-app

cd wasm-app
wasm-pack build

npm init wasm-app www

cd www
yarn

cd ../pkg
yarn link

cd ../www
yarn link &quot;wasm-app&quot;
</code></pre>
<h2 id="vue-vite-rust-wasm"><a class="header" href="#vue-vite-rust-wasm">vue vite rust wasm</a></h2>
<pre><code>yarn create @vitejs/app my-vue-app --template vue

cd my-vue-app
yarn add -D vite-plugin-rsw

yarn

cargo generate --git https://github.com/rustwasm/wasm-pack-template -n wasm-app

vite.config.js:

    import { defineConfig } from &quot;vite&quot;;
    import vue from &quot;@vitejs/plugin-vue&quot;;
    import ViteRsw from 'vite-plugin-rsw';

    // https://vitejs.dev/config/
    export default defineConfig({
        plugins: [
            vue(),
            ViteRsw({
                mode: &quot;release&quot;,
                crates: [&quot;wasm-app&quot;],
            }),
        ],
    });
</code></pre>
<h1 id="web"><a class="header" href="#web">web</a></h1>
<h2 id="使用-nvm-管理-nodejs"><a class="header" href="#使用-nvm-管理-nodejs">使用 nvm 管理 nodejs</a></h2>
<pre><code>网址: https://github.com/nvm-sh/nvm

curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash
nvm install --lts

npm config set registry https://registry.npm.taobao.org
npm config get registry

npm install -g yarn
yarn config set registry 'https://registry.npm.taobao.org'
</code></pre>
<h2 id="yarn-常见用法"><a class="header" href="#yarn-常见用法">yarn 常见用法</a></h2>
<pre><code>yarn global add typescript
</code></pre>
<h2 id="生成tsconfigjson文件"><a class="header" href="#生成tsconfigjson文件">生成tsconfig.json文件</a></h2>
<pre><code>yarn add -D typescript
yarn tsc --init
</code></pre>
<h2 id="使用npm安装cordova-执行cordova-create报错"><a class="header" href="#使用npm安装cordova-执行cordova-create报错">使用npm安装cordova, 执行cordova create报错</a></h2>
<pre><code>npm ERR! not a package.........@cordova-app-hello-world\index.js
卸载cordova, 使用yarm重新安装即可:
    sudo npm uninstall -g cordova
    sudo npm install -g yarn
    sudo yarn config set registry https://registry.npm.taobao.org
    sudo yarn global add cordova
</code></pre>
<h2 id="npm查看版本号"><a class="header" href="#npm查看版本号">npm查看版本号</a></h2>
<pre><code>npm ls electron     本地包版本号
npm ls electron -g  全局包版本号
</code></pre>
<h2 id="packagejson-版本约定号"><a class="header" href="#packagejson-版本约定号">package.json 版本约定号</a></h2>
<pre><code>~version

大概匹配某个版本

如果minor版本号指定了, 那么minor版本号不变, 而patch版本号任意

如果minor和patch版本号未指定, 那么minor和patch版本号任意

如：~1.1.2, 表示&gt;=1.1.2 &lt;1.2.0, 可以是1.1.2, 1.1.3, 1.1.4, ....., 1.1.n

如：~1.1, 表示&gt;=1.1.0 &lt;1.2.0, 可以是同上

如：~1, 表示&gt;=1.0.0 &lt;2.0.0, 可以是1.0.0, 1.0.1, 1.0.2, ....., 1.0.n, 1.1.n, 1.2.n, ....., 1.n.n


^version

兼容某个版本

版本号中最左边的非0数字的右侧可以任意

如果缺少某个版本号, 则这个版本号的位置可以任意

如：^1.1.2 , 表示&gt;=1.1.2 &lt;2.0.0, 可以是1.1.2, 1.1.3, ....., 1.1.n, 1.2.n, ....., 1.n.n

如：^0.2.3 , 表示&gt;=0.2.3 &lt;0.3.0, 可以是0.2.3, 0.2.4, ....., 0.2.n

如：^0.0, 表示 &gt;=0.0.0 &lt;0.1.0, 可以是0.0.0, 0.0.1, ....., 0.0.n
</code></pre>
<h2 id="jquery"><a class="header" href="#jquery">jquery</a></h2>
<pre><code>prop attr的区别：
    在这里, 我们可以将attribute理解为“特性”, property理解为为“属性”从而来区分俩者的差异。
    举个例子, option当做一个对象：
    var option = {
        selected:false,
        disabled:false,
        attributes:[],
        ...
    }
    attributes是自定义的键值对, property是对象自身的属性:selected、disabled、attributes...
</code></pre>
<p>##　报错:sh: 1: tsc: not found</p>
<pre><code>需要安装typescript, 执行:sudo npm install -g typescript
</code></pre>
<h2 id="chrome插件开发"><a class="header" href="#chrome插件开发">chrome插件开发</a></h2>
<pre><code>[an example](https://developer.chrome.com/extensions/getstarted/ &quot;略略&quot;)
</code></pre>
<h2 id="div层调整zindex属性无效原因分析及解决方法"><a class="header" href="#div层调整zindex属性无效原因分析及解决方法">div层调整zindex属性无效原因分析及解决方法</a></h2>
<pre><code>这种情况发生的条件有三个:

1、父标签 position属性为relative

2、问题标签无position属性（不包括static)

3、问题标签含有浮动(float)属性

eg:z-index层级不起作用, 浮动会让z-index失效


子元素浮动,父div没有自适应
clear:both 不管用?
给父元素添加: overflow:hidden

一个div内的多个同级div, 同级的div在同一行, 怎么保证它们高度一致?
margin-bottom


1,在当前窗口中跳转:
    window.location.href('url') 存在兼容问题,火狐不支持,可以使用 window.location='url';

    history.back();返回

2,学会使用data*属性,这是属于html5的标签属性, 传递参数时可以在路径中加上?key1=value1&amp;key2=value2的形式

3,onbar事件
    使用taglib prefix =&quot;c&quot;, 循环

4,使用锚点:
    &lt;a name=&quot;anchor1&quot;/&gt;.........&lt;a target=&quot;#anchor1&quot;/&gt;


软件 Artisteer firework ps 美图秀秀

textContent与innerHTNL的区别:textContent返回元素及其后代的文本内容,而innerHTML则返回HTML

ie和火狐遍历子节点chileNodes的区别:ie没有空格,火狐带空格

ul中的li居中:li的默认display为block,设置li为inline


对于浮动元素的高度为0,可以通过设置:如下:
    ul:after {
    content: &quot;&quot;;
    display: table;
    clear: both;
    }


动画滚动:
$msg_container.animate({ scrollTop: $msg_container.prop(&quot;scrollHeight&quot;) });


/**
* 禁用右键菜单
*/
document.oncontextmenu = function(){
    event.returnValue = false;
};

/**
* 禁用选中功能
*/
document.onselectstart = function(){
    event.returnValue = false;
};

/**
* 禁用复制功能
*/
document.oncopy = function(){
    event.returnValue = false;
};

/**
* 禁用鼠标的左右键
*/
document.onmousedown = function(){
    if(event.which==1){//鼠标左键
        return false;
    }

    if(event.which==3){//鼠标右键
        return false;
    }
};

/**
* 获取键盘上的输入值
*/
document.onkeydown = function(){
    console.info(event.which);
    if(event.which==13){
        console.info(&quot;回车键&quot;);
    }
};
</code></pre>
<h2 id="设置页面居中"><a class="header" href="#设置页面居中">设置页面居中</a></h2>
<pre><code>background:url(${sb.imageUrl }) no-repeat; background-size:150px 100px; background-position: center;
</code></pre>
<h1 id="vue-笔记"><a class="header" href="#vue-笔记">vue 笔记</a></h1>
<h2 id="使用vite工具"><a class="header" href="#使用vite工具">使用vite工具</a></h2>
<p><a href="https://cn.vitejs.dev/guide/">vite文档</a></p>
<h3 id="创建项目"><a class="header" href="#创建项目">创建项目</a></h3>
<pre><code>yarn create @vitejs/app
</code></pre>
<h1 id="算法"><a class="header" href="#算法">算法</a></h1>
<h1 id="积分"><a class="header" href="#积分">积分</a></h1>
<h1 id="微分"><a class="header" href="#微分">微分</a></h1>
<p>\[ \mu = \frac{1}{N} \sum_{i=0} x_i \]</p>
<h1 id="mdbook-构建工具"><a class="header" href="#mdbook-构建工具">mdbook 构建工具</a></h1>
<p><a href="https://rust-lang.github.io/mdBook/index.html">官方文档</a></p>
<h2 id="安装"><a class="header" href="#安装">安装</a></h2>
<h3 id="从预编译文件中安装"><a class="header" href="#从预编译文件中安装">从预编译文件中安装</a></h3>
<p><a href="https://github.com/rust-lang/mdBook/releases">预编译文件</a></p>
<h3 id="安装发布到-cratesio-的版本"><a class="header" href="#安装发布到-cratesio-的版本">安装发布到 Crates.io 的版本</a></h3>
<p>cargo install mdbook</p>
<h2 id="mdbook-用法"><a class="header" href="#mdbook-用法">mdbook 用法</a></h2>
<pre><code>mdbook help
mdbook init
mdbook build
mdbook watch --open
mdbook serve --open -n 0.0.0.0
</code></pre>
<h2 id="可选项"><a class="header" href="#可选项">可选项</a></h2>
<p>output.html.print 是否开起打印功能, 打印功能是 它打开生成的一个包含所有内容的print.html页面, 然后打印这个文件...如果保存为pdf的话没有目录</p>
<p>no-section-label 这个可以去掉侧边栏的数字前缀</p>
<p>output.html.fold 可以控制sidebar是否可以折叠及默认行为</p>
<h1 id="git笔记"><a class="header" href="#git笔记">git笔记</a></h1>
<h2 id="第一次提交代码"><a class="header" href="#第一次提交代码">第一次提交代码</a></h2>
<pre><code>git init

git remote add origin git@gitee.com:imxood/stm32h750_rt_app.git
git pull origin master

git branch --set-upstream-to=origin/master

git add .
git commit -m &quot;.&quot;
git push
</code></pre>
<h2 id="warning-crlf-will-be-replaced-by-lf"><a class="header" href="#warning-crlf-will-be-replaced-by-lf">warning: CRLF will be replaced by LF</a></h2>
<p>git config --global core.autocrlf false</p>
<h2 id="执行-git-status-时-中文路径乱码解决"><a class="header" href="#执行-git-status-时-中文路径乱码解决">执行 git status 时 中文路径乱码解决:</a></h2>
<pre><code>git config --global core.quotepath false
</code></pre>
<h2 id="创建新分支并删除历史commits"><a class="header" href="#创建新分支并删除历史commits">创建新分支并删除历史commits</a></h2>
<pre><code>git checkout --orphan main, 创建没有commits的孤儿分支
git add . &amp;&amp; git commit -m &quot;.&quot;
git push --set-upstream origin main
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
        
        

    </body>
</html>
